{"version":3,"sources":["js/gallery_items.js","js/markup.js","js/script.js"],"names":["images","preview","original","description","markUpFunc","list","document","querySelector","imagesMarkup","map","image","i","join","insertAdjacentHTML","refs","body","galleryList","modalWindow","zoomedImage","onImageClick","evt","preventDefault","target","nodeName","classList","toggle","src","dataset","source","alt","number","window","addEventListener","onModalClosePush","onModalPrevImgPush","onModalNextImgPush","onModalCloseClick","contains","closeModal","code","index","prevImg","nextImg","Number","removeEventListener"],"mappings":"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","file":"script.148185c3.js","sourceRoot":"..\\src","sourcesContent":["export const images = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","export const markUpFunc = function (images) {\r\n    const list = document.querySelector('.js-gallery');\r\n    const imagesMarkup = images.map((image, i) => {\r\n        return `<li class=\"gallery_item\">\r\n    <a class=\"gallery__link\"\r\n    href=\"${image.original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${image.preview}\"\r\n      data-source=\"${image.original}\"\r\n      data-number = ${i}\r\n      alt=\"${image.description}\"\r\n    />\r\n  </a>\r\n  </li>`;\r\n    }).join('');\r\n    \r\n    list.insertAdjacentHTML('afterbegin', imagesMarkup);\r\n}","import { images } from \"./gallery_items\";\r\nimport { markUpFunc } from \"./markup\";\r\n\r\nconst refs = {\r\n    body: document.querySelector('body'),\r\n    galleryList: document.querySelector('.js-gallery'),\r\n    modalWindow: document.querySelector('.js-lightbox'),\r\n    zoomedImage: document.querySelector('.lightbox__image'),\r\n};\r\n\r\nconst { body, galleryList, modalWindow, zoomedImage } = refs;\r\nmarkUpFunc(images);\r\n\r\ngalleryList.addEventListener('click', onImageClick);\r\nmodalWindow.addEventListener('click', onModalCloseClick);\r\n\r\n\r\n\r\n\r\nfunction onImageClick(evt) {\r\n   evt.preventDefault();\r\n    if (evt.target.nodeName !== 'IMG') {\r\n        return;\r\n    }\r\n\r\n    modalWindow.classList.toggle('is-open');\r\n    body.classList.toggle('is-fixed');\r\n    zoomedImage.src = evt.target.dataset.source;\r\n    zoomedImage.alt = evt.target.dataset.source;\r\n    zoomedImage.dataset.number = evt.target.dataset.number;\r\n\r\nwindow.addEventListener('keydown', onModalClosePush);\r\nwindow.addEventListener('keydown', onModalPrevImgPush);\r\nwindow.addEventListener('keydown', onModalNextImgPush);\r\n    \r\n}\r\n\r\nfunction onModalCloseClick(evt) {\r\nif (!evt.target.classList.contains('lightbox__button')\r\n        &&\r\n        !evt.target.classList.contains('lightbox__overlay')) {\r\n        return;\r\n    }\r\n   \r\n    closeModal();\r\n}\r\n\r\nfunction onModalClosePush (evt) {\r\nif (evt.code !== 'Escape') {\r\n        return;\r\n    }\r\n\r\n    closeModal();\r\n}\r\n\r\nfunction onModalPrevImgPush(evt) {\r\n    const index = zoomedImage.dataset.number;\r\n    const prevImg = document.querySelector(`img[data-number='${index - 1}']`);\r\n\r\n   if (evt.code !== 'ArrowLeft' || prevImg === null) {\r\n        return;\r\n    }\r\n \r\n    zoomedImage.src = prevImg.dataset.source;\r\n    zoomedImage.alt = prevImg.dataset.source;\r\n    zoomedImage.dataset.number = prevImg.dataset.number;\r\n  \r\n\r\n\r\n}\r\n\r\nfunction onModalNextImgPush(evt) {\r\n    const index = zoomedImage.dataset.number;\r\n    const nextImg = document.querySelector(`img[data-number='${Number(index) + 1}']`);\r\n\r\n   if (evt.code !== 'ArrowRight' || nextImg === null) {\r\n        return;\r\n    }\r\n\r\n    zoomedImage.src = nextImg.dataset.source;\r\n    zoomedImage.alt = nextImg.dataset.source;\r\n    zoomedImage.dataset.number = nextImg.dataset.number;\r\n}\r\n\r\nfunction closeModal() {\r\n    modalWindow.classList.toggle('is-open');\r\n    body.classList.toggle('is-fixed');\r\n    zoomedImage.alt = '';\r\n    zoomedImage.src = '';\r\n\r\nwindow.removeEventListener('keydown', onModalClosePush);\r\nwindow.removeEventListener('keydown', onModalPrevImgPush);\r\nwindow.removeEventListener('keydown', onModalNextImgPush);\r\n}"]}